# MCP Tool: Query existing GraphQL API
#
# To connect to your GraphQL endpoint:
# 1. Update GRAPHQL_ENDPOINT in .env
# 2. Add authentication headers if needed
# 3. Modify the query for your schema
#
# This example shows federated GraphQL pattern

query GetUserProfile($userId: ID!) {
  """
  Fetches user profile from existing GraphQL API.
  Perfect for connecting to Apollo Studio graphs.
  """
  user(id: $userId) @connect(
    http: { 
      POST: "{{GRAPHQL_ENDPOINT}}"
      headers: [{
        name: "Authorization"
        value: "Bearer {{API_KEY}}"
      }]
      body: {
        query: "query($userId: ID!) { user(id: $userId) { id name email avatar profileUrl createdAt } }"
        variables: { userId: "{{$userId}}" }
      }
    }
  ) {
    id
    name
    email
    avatar
    profileUrl
    createdAt
  }
}