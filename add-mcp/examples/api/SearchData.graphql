# üîç Let Claude search across your data sources
#
# What Claude can do with this:
# - "Search for documents containing 'project management'"
# - "Find all items tagged as 'urgent' from last week"
# - "Show me content related to user authentication"
# - "Search for files modified recently"
#
# To customize:
# ‚úèÔ∏è Update the search endpoint URL
# ‚úèÔ∏è Modify search parameters and filters to match your API
# ‚úèÔ∏è Adjust the response fields to match your search results structure

query SearchData($query: String!, $filters: SearchFilters) {
  """
  Performs full-text search across your data sources.
  
  Claude will use this when you ask to search, find, or look up
  information across your connected systems.
  """
  search(query: $query, filters: $filters) @connect(
    http: {
      POST: "https://api.example.com/search"
      headers: [{
        name: "Content-Type"
        value: "application/json"
      }]
    }
    selection: """
      q: {$args.query}
      filters: {$args.filters}
    """
  ) {
    results {
      id              # Unique result identifier
      type            # Content type (document, user, product, etc.)
      title           # Result title or name
      snippet         # Preview text or description
      relevanceScore  # Search relevance score
    }
    totalCount        # Total number of matching results
    facets {
      type           # Facet category
      count          # Number of items in this category
    }
    # ‚úèÔ∏è Add more fields from your search API: url, lastModified, author, etc.
    # ‚úèÔ∏è Update the selection mapping above to include additional fields
  }
}